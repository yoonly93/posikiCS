rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // apps: 공개 읽기, 어드민만 쓰기
    match /apps/{appId} {
      allow read: if true;
      allow write: if request.auth != null
                   && request.auth.token.email == 'wildkindground@gmail.com';
    }

    // contacts: 공개 생성만, 어드민만 읽기/수정/삭제
    match /contacts/{contactId} {
      allow create: if true;
      allow read, update, delete: if request.auth != null
                                  && request.auth.token.email == 'wildkindground@gmail.com';
    }

    // contactForms: 공개 읽기, 어드민만 쓰기
    match /contactForms/{formId} {
      allow read: if true;
      allow write: if request.auth != null
                   && request.auth.token.email == 'wildkindground@gmail.com';
    }

    // legal: 공개 읽기, 어드민만 쓰기
    match /legal/{document=**} {
      allow read: if true;
      allow write: if request.auth != null
                   && request.auth.token.email == 'wildkindground@gmail.com';
    }

    // settings: 어드민만
    match /settings/{settingId} {
      allow read, write: if request.auth != null
                         && request.auth.token.email == 'wildkindground@gmail.com';
    }
  }
}
